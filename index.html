<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixel UI</title>
  <!-- Fonts -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Readex+Pro:wght@160..700&display=swap">
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css" />
  <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>

  <style>
    :root {
      --menu-color: 152, 45, 234;
      /* يمكنك تغيير اللون من هنا */
    }

    /* Global Styles */
    html {
      color-scheme: normal !important;
    }

    body {
      background: none !important;
      margin: 0;
      font-family: "Readex Pro", sans-serif;
      -webkit-font-smoothing: antialiased;
      height: 100vh;
      user-select: none;
      overflow: hidden !important;
    }

    #root {
      height: 100%;
    }

    ::-webkit-scrollbar {
      width: 0;
      height: 0;
    }

    /* Pixel Menu Styles */
    .VWrapper {
      position: absolute;
      display: flex;
      left: 4vw;
      top: 50%;
      transform: translateY(-50%);
      justify-content: center;
      align-items: flex-start;
      flex-direction: row;
      gap: .4167vw;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .VWrapper.visible {
      opacity: 1;
      pointer-events: all;
    }

    .VLeftElements {
      position: relative;
      display: flex;
      width: 18.2292vw;
      height: auto;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .VBanner {
      position: relative;
      display: flex;
      width: 100%;
      height: 5.4688vw;
      justify-content: center;
      align-items: center;
      border-left: .0521vw solid rgba(11, 11, 11, 0.95);
      border-top: .0521vw solid rgba(11, 11, 11, 0.95);
      border-right: .0521vw solid rgba(11, 11, 11, 0.95);
      border-top-left-radius: .4167vw;
      border-top-right-radius: .4167vw;
      overflow: hidden;
    }

    .VBanner img {
      position: absolute;
      display: flex;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .VLeftInnerElements {
      position: relative;
      display: flex;
      width: 100%;
      height: auto;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .VScroll {
      position: absolute;
      display: flex;
      left: -0.8vw;
      width: .5208vw;
      height: 100%;
      background-color: rgba(11, 11, 11, 0.95);
      justify-content: flex-start;
      align-items: center;
      flex-direction: column;
      gap: .1042vw;
      border-radius: .1042vw;
    }

    .VSProgress {
      position: relative;
      display: flex;
      width: .3125vw;
      height: 100%;
      margin-top: .1563vw;
      background-color: rgba(var(--menu-color), 0.70);
      transition: top 0.25s ease, height 0.25s ease;
      border-radius: .1042vw;
    }

    .VHeader {
      position: relative;
      display: flex;
      width: 100%;
      height: 1.5625vw;
      justify-content: center;
      align-items: center;
      background-color: rgba(11, 11, 11, 0.95);
      border-top: .0521vw solid rgb(var(--menu-color));
      border-bottom: .0521vw solid rgb(var(--menu-color));
    }

    .VHeader .Path {
      position: absolute;
      display: flex;
      left: .7813vw;
      height: .6771vw;
      font-style: normal;
      font-weight: 700;
      font-size: .5208vw;
      line-height: .625vw;
      align-items: center;
      color: #FFFFFF;
      text-transform: uppercase;
    }

    .VHeader .Name {
      position: absolute;
      display: flex;
      right: .7813vw;
      height: .6771vw;
      font-style: normal;
      font-weight: 700;
      font-size: .5208vw;
      line-height: .625vw;
      align-items: center;
      color: #FFFFFF;
    }

    .VTabs {
      position: relative;
      display: flex;
      width: 100%;
      height: auto;
      max-height: 15.625vw;
      justify-content: flex-start;
      align-items: center;
      flex-direction: column;
      background-color: rgba(11, 11, 11, 0.95);
      overflow: hidden;
    }

    .VTab {
      position: relative;
      display: flex;
      width: 100%;
      height: 1.5625vw;
      min-height: 1.5625vw;
      max-height: 1.5625vw;
      justify-content: center;
      align-items: center;
    }

    .VTab .VTLabel {
      position: absolute;
      display: flex;
      left: .7813vw;
      height: .6771vw;
      font-style: normal;
      font-weight: 700;
      font-size: .5208vw;
      line-height: .625vw;
      align-items: center;
      color: #FFFFFF;
    }

    .VTab .Icon {
      position: absolute;
      display: flex;
      right: .7813vw;
      width: 1.0417vw;
      height: 1.0417vw;
      color: rgba(255, 255, 255, 0.60);
      transition: color 0.25s ease-in-out, right 0.25s;
    }

    .VOptions {
      position: absolute;
      display: flex;
      right: 0.65vw;
      width: 7.8125vw;
      justify-content: flex-end;
      align-items: center;
      flex-direction: row;
      gap: .5208vw;
    }

    .Checkbox {
      position: relative;
      display: flex;
      width: 1.5625vw;
      height: .7813vw;
      justify-content: center;
      align-items: center;
      background-color: #222224;
      border-radius: 5vw;
    }

    .Checkbox.Checked .Inside {
      left: 0.95vw;
      background-color: rgb(var(--menu-color));
    }

    .Checkbox .Inside {
      position: absolute;
      display: flex;
      left: 0.15vw;
      width: .4167vw;
      height: .4167vw;
      background-color: white;
      border-radius: .2604vw;
      transition: 0.25s all;
    }

    .Slider {
      position: relative;
      display: flex;
      width: 2.3438vw;
      height: .2083vw;
      justify-content: flex-start;
      align-items: center;
      background-color: #3a3a3a;
      border-radius: .2604vw;
    }

    .Slider .Progress {
      position: absolute;
      display: flex;
      height: 100%;
      background: rgb(225, 225, 225);
      border-radius: .2604vw;
    }

    .Divider {
      position: relative;
      display: flex;
      width: 92%;
      height: 1.5625vw;
      justify-content: space-between;
      align-items: center;
      flex-direction: row;
      gap: .2604vw;
    }

    .Divider .Left,
    .Divider .Right {
      position: relative;
      display: flex;
      flex: 1;
      height: .026vw;
      background-color: rgba(225, 225, 225, 0.2);
      border-radius: 5vw;
    }

    .Divider .Label {
      position: relative;
      display: flex;
      font-size: .5208vw;
      font-weight: 700;
      color: rgb(225, 225, 225);
      white-space: nowrap;
      padding: 0 .5vw;
      text-transform: uppercase;
    }

    .VFooter {
      position: relative;
      display: flex;
      width: 100%;
      height: 1.5625vw;
      background-color: rgba(11, 11, 11, 0.95);
      border-top: .0521vw solid rgb(var(--menu-color));
      border-bottom-left-radius: .4167vw;
      border-bottom-right-radius: .4167vw;
      justify-content: center;
      align-items: center;
    }

    .VFooter .Indicator {
      position: absolute;
      display: flex;
      right: .7813vw;
      height: .6771vw;
      font-style: normal;
      font-weight: 700;
      font-size: .5208vw;
      line-height: .625vw;
      align-items: center;
      color: #FFFFFF;
    }

    .VDesc {
      position: relative;
      display: inline-flex;
      width: auto;
      min-width: 100%;
      height: auto;
      border-radius: .2604vw;
      background-color: rgba(11, 11, 11, 0.95);
      margin-top: .2604vw;
      padding: .5vw .6vw;
      box-sizing: border-box;
      flex-direction: column;
      border-left: 2px solid rgb(var(--menu-color));
    }

    .VDesc span {
      font-weight: 700;
      font-size: .5208vw;
      line-height: .625vw;
      color: #FFFFFF;
      opacity: 0.7;
    }

    /* Notifications */
    .NotificationsWrapper {
      position: absolute;
      display: flex;
      top: 1vw;
      left: 50%;
      transform: translateX(-50%);
      flex-direction: column;
      gap: .2604vw;
      z-index: 9999;
      pointer-events: none;
      align-items: center;
    }

    .Notification {
      position: relative;
      display: flex;
      min-width: 13.0208vw;
      background: rgb(10, 10, 10);
      border-radius: .2604vw;
      opacity: 0;
      transform: translateY(-1.5vw);
      transition: 0.5s all;
      flex-direction: column;
      overflow: hidden;
    }

    .Notification.enter {
      opacity: 1;
      transform: translateY(0);
    }

    .Notification .Header {
      height: 1.5625vw;
      background-color: black;
      border-bottom: .0521vw solid rgb(var(--menu-color));
      display: flex;
      align-items: center;
      padding: 0 .5vw;
      gap: .5vw;
    }

    .Notification .Title {
      font-weight: 700;
      font-size: .5469vw;
      color: rgb(var(--menu-color));
      text-transform: uppercase;
    }

    .Notification .Body {
      padding: .5vw;
    }

    .Notification .NDesc {
      font-size: .5469vw;
      color: white;
    }

    /* Input */
    .Overlay {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.60);
      opacity: 0;
      transition: 0.2s;
      pointer-events: none;
      z-index: 10000;
    }

    .Overlay.visible {
      opacity: 1;
      pointer-events: all;
    }

    .InputWrapper {
      position: absolute;
      left: 50%;
      bottom: 8vw;
      width: 20.8333vw;
      transform: translateX(-50%);
      background-color: rgb(10, 10, 10);
      border-radius: .2604vw;
      overflow: hidden;
      opacity: 0;
      transition: 0.2s;
      z-index: 10001;
    }

    .InputWrapper.visible {
      opacity: 1;
    }

    .InputWrapper .Header {
      height: 1.6667vw;
      background-color: black;
      border-bottom: .0521vw solid rgb(var(--menu-color));
      display: flex;
      align-items: center;
      padding: 0 .7vw;
      color: rgb(var(--menu-color));
      font-weight: 700;
      font-size: .625vw;
    }

    .InputWrapper .Body {
      height: 1.8229vw;
      display: flex;
      align-items: center;
      padding: 0 .7vw;
      color: white;
      font-size: .625vw;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect, useRef, useLayoutEffect } = React;

    const Notifications = () => {
      const [list, setList] = useState([]);
      useEffect(() => {
        const onMessage = (e) => {
          if (e.data.action === "showNotification") {
            const id = Date.now();
            setList(prev => [...prev, { ...e.data, id }]);
            setTimeout(() => setList(prev => prev.filter(n => n.id !== id)), 4000);
          }
        };
        window.addEventListener("message", onMessage);
        return () => window.removeEventListener("message", onMessage);
      }, []);

      return (
        <div className="NotificationsWrapper">
          {list.map(n => (
            <div key={n.id} className="Notification enter">
              <div className="Header">
                <i className="fa-solid fa-circle-info" style={{ color: `rgb(var(--menu-color))` }}></i>
                <span className="Title">{n.title}</span>
              </div>
              <div className="Body"><span className="NDesc">{n.desc}</span></div>
            </div>
          ))}
        </div>
      );
    };

    const Input = () => {
      const [data, setData] = useState({ visible: false, title: "", value: "" });
      useEffect(() => {
        const onMessage = (e) => {
          if (e.data.action === "updateKeyboard") setData(e.data);
        };
        window.addEventListener("message", onMessage);
        return () => window.removeEventListener("message", onMessage);
      }, []);

      return (
        <>
          <div className={`Overlay ${data.visible ? 'visible' : ''}`}></div>
          <div className={`InputWrapper ${data.visible ? 'visible' : ''}`}>
            <div className="Header">
              <i className="fa-solid fa-keyboard" style={{ marginRight: '8px' }}></i>
              <span>{data.title}</span>
            </div>
            <div className="Body"><span>{data.value}</span></div>
          </div>
        </>
      );
    };

    const PixelMenu = () => {
      const [visible, setVisible] = useState(false);
      const [tabs, setTabs] = useState([]);
      const [selectedIndex, setSelectedIndex] = useState(0);
      const [path, setPath] = useState(["HOME"]);
      const [pos, setPos] = useState({ x: 0, y: 0 });
      const tabsRef = useRef([]);

      useEffect(() => {
        const onMessage = (e) => {
          const d = e.data;
          if (d.action === "showUI") {
            setVisible(d.visible);
            if (d.elements) setTabs(d.elements);
            if (d.index !== undefined) setSelectedIndex(d.index);
            if (d.path) setPath(d.path);
          }
          if (d.action === "updateMenu") {
            if (d.menuData.items) setTabs(d.menuData.items);
            if (d.menuData.selectedIndex !== undefined) setSelectedIndex(d.menuData.selectedIndex);
            if (d.menuData.path) setPath(d.menuData.path);
          }
          if (d.action === "keydown") setSelectedIndex(d.index);
          if (d.action === "updatePosition") setPos({ x: d.x, y: d.y });
        };
        window.addEventListener("message", onMessage);
        return () => window.removeEventListener("message", onMessage);
      }, []);

      useLayoutEffect(() => {
        if (tabsRef.current[selectedIndex]) {
          tabsRef.current[selectedIndex].scrollIntoView({ block: "nearest", behavior: "smooth" });
        }
      }, [selectedIndex]);

      return (
        <div className={`VWrapper ${visible ? 'visible' : ''}`} style={{ left: pos.x ? `${pos.x}px` : '4vw', top: pos.y ? `${pos.y}px` : '50%' }}>
          <div className="VLeftElements">
            <div className="VBanner"><img src="banner.png" draggable="false" /></div>
            <div className="VLeftInnerElements">
              <div className="VHeader">
                <span className="Path">{path.join(" > ")}</span>
                <span className="Name">Pixel | discord.gg/pixel</span>
              </div>
              <div className="VTabs">
                <div style={{
                  position: "absolute", width: "100%", height: "1.5625vw",
                  top: `${selectedIndex * 1.5625}vw`, background: "rgba(var(--menu-color), 0.4)",
                  borderLeft: ".1vw solid rgb(var(--menu-color))", transition: "top 0.15s ease", zIndex: 0
                }}></div>
                {tabs.map((tab, i) => (
                  <div key={i} className="VTab" ref={el => tabsRef.current[i] = el}>
                    {tab.type !== "divider" && (
                      <span className="VTLabel">
                        {tab.label}
                        {(tab.type === "slider" || tab.type === "list") && `: ${tab.value}`}
                      </span>
                    )}
                    {tab.type === "subMenu" && <span className="iconify Icon" data-icon="uim:angle-double-right"></span>}
                    {tab.type === "checkbox" && <div className={`Checkbox ${tab.checked ? "Checked" : ""}`}><div className="Inside"></div></div>}
                    {tab.type === "slider" && (
                      <div className="Slider">
                        <div className="Progress" style={{ width: `${((tab.value - (tab.min || 0)) / ((tab.max || 100) - (tab.min || 0))) * 100}%` }}></div>
                      </div>
                    )}
                    {tab.type === "divider" && (
                      <div className="Divider">
                        <div className="Left"></div>
                        <span className="Label">{tab.label}</span>
                        <div className="Right"></div>
                      </div>
                    )}
                  </div>
                ))}
              </div>
              <div className="VFooter">
                <span className="iconify Icon" data-icon="heroicons:chevron-up-down" style={{ color: `rgb(var(--menu-color))` }}></span>
                <span className="Indicator">({selectedIndex + 1}/{tabs.length})</span>
              </div>
            </div>
            {tabs[selectedIndex]?.desc && (
              <div className="VDesc"><span>{tabs[selectedIndex].desc}</span></div>
            )}
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<><PixelMenu /><Notifications /><Input /></>);
  </script>
</body>

</html>